<!doctype html>
<html lang="en" xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="x-apple-disable-message-reformatting" />
    <meta name="format-detection" content="telephone=no, date=no, address=no, email=no" />
    <title>{{subject}}</title>
    <!-- Preheader (hidden preview text) -->
    <meta name="description" content="{{preheader}}" />
    {% if font_href %}
    <link href="{{font_href}}" rel="stylesheet" />
    {% else %}
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700&display=swap" rel="stylesheet" />
    {% endif %}
    <style>
      /* Typography: use selected webfont (fallback Outfit) with safe fallbacks */
      body, table, td, a, h1, h2, h3, p, strong, em, span, div { font-family: 'Outfit', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', Arial, sans-serif; }
      /* Basic email-safe styles matching light mode theme */
      .container { max-width: 640px; margin: 0 auto; }
      .card { background: #f9fafb; border-radius: 12px; padding: 24px; border: 1px solid #e2e8f0; }
      .muted { color: #64748b; }
      
      /* Unified button styles matching button.jsx primary variant (lg size) */
      .btn {
        display: inline-block;
        background: #84cc16; /* lime-500 - light mode accent */
        color: #022C22 !important; /* dark teal text */
        padding: 12px 24px; /* px-6 py-3 */
        border-radius: 6px; /* rounded-md */
        text-decoration: none;
        font-weight: 600; /* font-semibold */
        font-size: 16px; /* text-base */
        line-height: 1.5;
        transition: all 0.2s;
        box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
      }
      .btn:hover {
        background: #65a30d; /* lime-600 - hover state */
        box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
      }
      
      /* Unified badge styles matching badge.jsx primary variant */
      .badge {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        background: #84cc16; /* lime-500 - light mode accent */
        color: #022C22 !important; /* dark teal text */
        padding: 2px 10px; /* px-2.5 py-0.5 */
        border-radius: 9999px; /* rounded-full */
        font-size: 12px; /* text-xs */
        font-weight: 600; /* font-semibold */
        line-height: 1;
        box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
      }
      .badge-secondary {
        background: #65a30d; /* lime-600 */
      }
      .badge-outline {
        background: transparent;
        border: 1px solid #84cc16;
        color: #84cc16 !important;
      }
      
      /* Unified icon wrapper styles matching icon-wrapper.jsx */
      .icon-wrapper {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: 8px; /* p-2 - default size */
        border-radius: 8px; /* rounded-lg */
      }
      .icon-wrapper-sm {
        padding: 6px; /* p-1.5 */
        border-radius: 4px; /* rounded */
      }
      .icon-wrapper-lg {
        padding: 12px; /* p-3 */
        border-radius: 12px; /* rounded-xl */
      }
      .icon-wrapper-xl {
        padding: 16px; /* p-4 */
        border-radius: 16px; /* rounded-2xl */
      }
      /* Icon wrapper color variants with gradients */
      .icon-wrapper-primary {
        background: linear-gradient(135deg, #84cc16, #65a30d); /* lime-500 to lime-600 */
        color: #ffffff;
      }
      .icon-wrapper-secondary {
        background: linear-gradient(135deg, #65a30d, #4d7c0f); /* lime-600 to lime-700 */
        color: #ffffff;
      }
      .icon-wrapper-success {
        background: linear-gradient(135deg, #22c55e, #16a34a); /* green-500 to green-600 */
        color: #ffffff;
      }
      .icon-wrapper-warning {
        background: linear-gradient(135deg, #f59e0b, #d97706); /* amber-500 to amber-600 */
        color: #ffffff;
      }
      .icon-wrapper-danger {
        background: linear-gradient(135deg, #ef4444, #dc2626); /* red-500 to red-600 */
        color: #ffffff;
      }
      .icon-wrapper-neutral {
        background: linear-gradient(135deg, #6b7280, #4b5563); /* gray-500 to gray-600 */
        color: #ffffff;
      }
      @media screen and (max-width: 600px) {
        .container { padding: 0 16px; }
        .btn { display: block; width: 100%; text-align: center; padding: 10px 14px !important; font-size: 15px !important; }
        img.logo { max-width: 160px !important; height: auto !important; }
      }
    </style>
    <style>
      /* Dynamic font-family injected via template to avoid nested quotes in inline style */
      body {
        font-family: '{{ font_family | default("Outfit") }}', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', Arial, sans-serif;
      }
    </style>
    <!--[if gte mso 9]>
    <xml>
      <o:OfficeDocumentSettings>
        <o:AllowPNG/>
        <o:PixelsPerInch>96</o:PixelsPerInch>
      </o:OfficeDocumentSettings>
    </xml>
    <![endif]-->
  </head>
  <body style="margin:0; padding:24px; background:#ffffff; color:#022C22;">
    <!-- Preheader (hidden in clients, visible for preview) -->
    <div style="display:none; max-height:0; overflow:hidden; opacity:0; visibility:hidden;">
      {{preheader}}
    </div>
    <!--[if mso]>
    <div style="mso-hide:all;">
      {{preheader}}
    </div>
    <![endif]-->

    <div class="container">
      <!-- Logo centered, size per email_basic.html -->
      <div style="text-align:center; margin-bottom:20px;">
        <a href="https://cleanenroll.com" target="_blank" style="text-decoration:none;">
          <img class="logo" src="https://cleanenroll.com/LogoCleanEnrollLight.png" width="160" alt="CleanEnroll" style="display:block; height:auto; border:0; outline:none; text-decoration:none; -ms-interpolation-mode:bicubic;" />
        </a>
      </div>

      <!-- Card -->
      <div class="card">
        <!-- Title -->
        <h1 style="margin:0 0 12px 0; font-size:22px; line-height:1.2; font-weight:700; color:#022C22;">{{title}}</h1>

        <!-- Intro and dynamic HTML content -->
        <div style="font-size:15px; line-height:1.6; color:#022C22;">
          {% if intro %}
            <p style="margin:0 0 16px 0; color:#64748b;">{{intro}}</p>
          {% endif %}
          {% if content_html %}
            <div style="margin:0 0 4px 0;">{{content_html|safe}}</div>
          {% endif %}

          <!-- CTA Button (with Outlook VML fallback) -->
          {% if cta_url and cta_label %}
            <!--[if mso]>
            <table role="presentation" cellpadding="0" cellspacing="0" border="0" align="left" style="margin:24px 0 0 0;"><tr><td>
              <v:roundrect xmlns:v="urn:schemas-microsoft-com:vml" href="{{cta_url}}" style="height:48px; v-text-anchor:middle; width:220px;" arcsize="13%" stroke="f" fillcolor="#84cc16">
                <w:anchorlock/>
                <center style="color:#022C22; font-family: Arial, Helvetica, sans-serif; font-size:16px; font-weight:600;">{{cta_label}}</center>
              </v:roundrect>
            </td></tr></table>
            <![endif]-->
            <!--[if !mso]><!-- -->
            <p style="margin:24px 0 0 0;">
              <a class="btn" href="{{cta_url}}">{{cta_label}}</a>
            </p>
            <!--<![endif]-->
          {% endif %}
        </div>
      </div>

      <!-- Footer -->
      {% if footer_html %}
      <div class="muted" style="font-size:12px; text-align:center; margin-top:18px;">{{ footer_html|safe }}</div>
      {% else %}
      <p class="muted" style="font-size:12px; text-align:center; margin-top:18px;">
        © {{year}} CleanEnroll • <a href="https://cleanenroll.com/legal#privacy-policy" style="color:#65a30d; text-decoration:none;">Privacy</a> • <a href="https://cleanenroll.com/legal#terms-of-service" style="color:#65a30d; text-decoration:none;">Terms</a>
      </p>
      {% endif %}
    </div>
  </body>
</html>
